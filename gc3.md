# ProtoXEP: Group Chat 3

## What

## How

### Identifying channels

Channels are identified with a bare JID where the domain part is the service on which the channel resides and the localpart is an opaque identifier for the channel, generated by the service at creation time. The name of the channel is returned in disco#items responses on the service, and in the channel's configuration. This allows channels to have their presented name changed without breaking addressing, as would happen in MUC. e.g. `UHJhaXNlIEtldgo@gc3service.example.com`.

### Identifying participants in a channel

Occupants have a stable identifier, much as [XEP-0421](https://xmpp.org/extensions/xep-0421.html). The occupant is identified by the JID of the channel, plus the occupant's identifier as the resource giving a full JID. This is similar to MUC, except that the user identifier is not their nickname. e.g. `UHJhaXNlIEtldgo@gc3service.example.com/VGhpcyBpcyBLZXYK`.

### Joining a channel

#### Client sends iq to bare JID with channel it wants to join
#### account sends iq to service
#### service responds with 'true' address of channel that was joined
#### account announces to client that it has joined a channel.

### Creating a channel

Channels are created by a client sending an iq to their bare JID, and their server relaying that to the channel service. The service then creates the channel with an opaque identifier (nodepart), adds the creator as a participant, assigns them the owner hat, returns a join payload to the user's bare JID, user's server returns an empty result, and pushes out the new membership in the normal way.

### Sending a message to a channel

### Sending presence to a channel

### Receiving messages from a channel

### Receiving presence from a channel

### Querying occupant list for channel

### Channel roles and affiliations

### Channel configuration

### Inviting to a channel

### Channel address aliases

### Main changes from MUC

* Channel naming/addressing is split
* Occupant naming/addressing is split
* Channel creation is explicit IQ to service
* Channel join is explicit IQ to service
* User's server is involved in create/join/part to track channel occupancy
